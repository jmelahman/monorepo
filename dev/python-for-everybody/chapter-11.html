<!DOCTYPE html>
<html lang="en">

<head>
  <title>Projects | Jamison Lahman</title>
  <base href="../../">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Personal website">
  <meta name="keywords" content="jamison,jamie,lahman">
  <meta name="author" content="Jamison Lahman">
  <link rel="stylesheet" href="./css/stylesheet.css">
  <link rel="stylesheet" href="./css/vim.css">
  <link rel="icon" type="image/x-icon" href="./images/jme.ico">
</head>

<body>
  <header>
    <nav class="container">
      <div id="branding">
        <a href="./home.html" title="Return to the home page"><img alt="Personal logo" src="./images/jme_hd_100.png"></a>
      </div>
      <div class="header-right">
        <a href="./index.html" title="About">/usr</a>
        <a href="./media/5.html" title="Gallery">/media</a>
        <a class="active" href="./dev.html" title="Projects">/dev</a>
      </div>
    </nav>
  </header>
  <main class="container vignette">
    <h1>Python for Everybody</h1>
    <nav class="horizontal-menu">
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-3.html">Chapter 3</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-4.html">Chapter 4</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-5.html">Chapter 5</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-6.html">Chapter 6</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-7.html">Chapter 7</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-8.html">Chapter 8</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-9.html">Chapter 9</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-10.html">Chapter 10</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-11.html">Chapter 11</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-12.html">Chapter 12</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-13.html">Chapter 13</a>
    </nav>
    <h2 id="chapter11">Chapter 11</h2>
    <nav class="horizontal-menu">
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-11.html#exercise11-1">Exercise 11.1</a>
      <a class="anchor-button primary-border" href="./dev/python-for-everybody/chapter-11.html#exercise11-2">Exercise 11.2</a>
    </nav>
    <h3 id="exercise11-1">Exercise 11.1</h3>
    <pre>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Exercise  11.1: Write a simple program to simulate the operation of the grep</span>
<span class="sd">command on Unix. Ask the user to enter a regular expression and count the</span>
<span class="sd">number of lines that matched the regular expression:</span>

<span class="sd">$ python grep.py</span>
<span class="sd">Enter a regular expression: ^Author</span>
<span class="sd">mbox.txt had 1798 lines that matched ^Author</span>

<span class="sd">$ python grep.py</span>
<span class="sd">Enter a regular expression: ^X-</span>
<span class="sd">mbox.txt had 14368 lines that matched ^X-</span>

<span class="sd">$ python grep.py</span>
<span class="sd">Enter a regular expression: java$</span>
<span class="sd">mbox.txt had 4218 lines that matched java$</span>

<span class="sd">Python for Everybody: Exploring Data Using Python 3</span>
<span class="sd">by Charles R. Severance</span>

<span class="sd">Solution by Jamison Lahman, June 4, 2017</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>                               <span class="c1"># Initialize variables</span>

<span class="n">input_exp</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter a regular expression: &#39;</span><span class="p">)</span>
<span class="n">reg_exp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">input_exp</span><span class="p">)</span>                <span class="c1"># Regular Expressions are strings</span>
<span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;mbox.txt&#39;</span>
<span class="n">fhand</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fhand</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

    <span class="c1"># Only counts if something was found</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">reg_exp</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span> <span class="o">!=</span> <span class="p">[]:</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fname</span> <span class="o">+</span> <span class="s1">&#39; had &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; lines that matched &#39;</span> <span class="o">+</span> <span class="n">reg_exp</span><span class="p">)</span>
    </pre>
    <hr>
    <h3 id="exercise11-2">Exercise 11.2</h3>
    <pre>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Exercise  11.2: Write a program to look for lines of the form</span>

<span class="sd">&#39;New Revision: 39771&#39;</span>

<span class="sd">and extract the number from each of the lines using a regular expression and</span>
<span class="sd">the findall() method. Compute the average of the numbers and print out the</span>
<span class="sd">average.</span>

<span class="sd">Enter file:mbox.txt</span>
<span class="sd">38549.7949721</span>

<span class="sd">Enter file:mbox-short.txt</span>
<span class="sd">39756.9259259</span>

<span class="sd">Python for Everybody: Exploring Data Using Python 3</span>
<span class="sd">by Charles R. Severance</span>

<span class="sd">Solution by Jamison Lahman, June 4, 2017</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">re</span>


<span class="n">rev</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">fname</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter file: &#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">fhand</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File cannot be opened: &#39;</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">()</span>


<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fhand</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
    <span class="n">rev_temp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;^New Revision: ([0-9.]+)&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rev_temp</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">rev_temp</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>            <span class="c1"># Convert the strings to floats</span>
            <span class="n">rev</span> <span class="o">=</span> <span class="n">rev</span> <span class="o">+</span> <span class="p">[</span><span class="n">val</span><span class="p">]</span>           <span class="c1"># Concats new values</span>

<span class="n">rev_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">rev</span><span class="p">)</span>
<span class="n">count</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rev</span><span class="p">))</span>
<span class="n">rev_ave</span> <span class="o">=</span> <span class="n">rev_sum</span> <span class="o">/</span> <span class="n">count</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rev_ave</span><span class="p">)</span>
    </pre>
    <hr>
  </main>
</body>
</html>
